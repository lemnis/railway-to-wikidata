{% assign uicCountryCode = uic | slice: 0, 2 %}

{% if uicCountryCode == '54' %}
https://www.cd.cz/stanice/{{ uic }}
{% elsif uicCountryCode == '55' %}
https://www.kapella2.hu/ehuszfelulet/szolghelyadatok?taf_id={{ uic }}&vizsgalt_idopont=2020-04-29&vizsgalt_idoszak_kezdo=2020-05-04&vizsgalt_idoszak_veg=2020-05-31&infra_id=21943
{% elsif uicCountryCode == '88' %}
https://irail.be/stations/NMBS/00{{ uic }}
{% elsif uicCountryCode == '' %}
#
{% else %}
{% comment %} (Limited) luhn algorithm to calculate uic8 code. {% endcomment %} 
{% assign uic = uic | split: ''  %}
{% assign first = uic[2] | times: 2  %}
{% if first > 9 %}
	{% assign firstFirst = first | divided_by:10 | floor %}
	{% assign first = first | modulo:10 | plus: firstFirst %}
{% endif %}
{% assign second = uic[3] %}
{% assign thirth = uic[4] | times: 2  %}
{% if thirth > 9 %}
	{% assign thirthFirst = thirth | divided_by:10 | floor %}
	{% assign thirth = thirth | modulo:10 | plus: thirthFirst %}
{% endif %}
{% assign fourth = uic[5] %}
{% assign fifth = uic[6] | times: 2 %}
{% if fifth > 9 %}
	{% assign fifthFirst = fifth | divided_by:10 | floor %}
	{% assign fifth = fifth | modulo:10 | plus: fifthFirst %}
{% endif %}
{% assign total = first | plus: second | plus: thirth  | plus: fourth  | plus: fifth %}
{% assign mod = total | modulo: 10 %}
https://m.ter.sncf.com/occitanie/se-deplacer/gares/{{ uic }}{{ 10 | minus: mod }}
{% comment %}https://www.sncf.com/en/stations/fake/OCE{{ uic }}{{ 10 | minus: mod }}{% endcomment %}
{% endif %}